{"version":3,"sources":["../node_modules/classnames/index.js","../node_modules/react-contextmenu/es6/helpers.js","../node_modules/react-contextmenu/es6/actions.js","../node_modules/react-contextmenu/es6/globalEventListener.js","../node_modules/react-contextmenu/es6/MenuItem.js","../node_modules/react-contextmenu/es6/AbstractMenu.js","../node_modules/react-contextmenu/es6/SubMenu.js","../node_modules/react-contextmenu/es6/ContextMenu.js","../node_modules/react-contextmenu/es6/ContextMenuTrigger.js","../node_modules/react-contextmenu/es6/connectMenu.js","../node_modules/react-contextmenu/es6/index.js"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","callIfExists","func","_len","args","_key","undefined","hasOwnProp","obj","prop","Object","prototype","cssClasses","store","canUseDOM","Boolean","window","document","createElement","MENU_SHOW","MENU_HIDE","dispatchGlobalEvent","eventName","opts","target","event","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","showMenu","type","hideMenu","GlobalEventListener","_this","this","instance","Constructor","TypeError","_classCallCheck","handleShowEvent","id","callbacks","show","handleHideEvent","hide","register","showCallback","hideCallback","Math","random","toString","substring","unregister","addEventListener","_extends","assign","source","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_defineProperty","value","_possibleConstructorReturn","self","ReferenceError","_Component","MenuItem","_ref","_temp","__proto__","getPrototypeOf","concat","handleClick","button","preventDefault","disabled","divider","onClick","data","preventClose","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_cx","_this2","_props","attributes","children","className","selected","menuItemClassNames","disabledClassName","dividerClassName","selectedClassName","role","tabIndex","ref","_ref2","onMouseMove","onMouseLeave","onTouchEnd","propTypes","object","node","string","bool","defaultProps","AbstractMenu","seletedItemRef","state","selectedItem","forceSubMenuOpen","isRequired","handleKeyNavigation","e","isVisible","keyCode","selectChildren","tryToOpenSubMenu","HTMLElement","click","handleForceClose","setState","getSubMenuType","forward","disabledChildrenCount","disabledChildIndexes","Children","forEach","childCollector","child","index","indexOf","nextEnabledChildIndex","currentIndex","findNextEnabledChildIndex","onChildMouseMove","onChildMouseLeave","renderChildren","map","isValidElement","cloneElement","bind","forceOpen","forceClose","parentKeyNavigationHandler","_AbstractMenu","SubMenu","getMenuPosition","_window","innerWidth","innerHeight","rect","subMenu","getBoundingClientRect","position","bottom","top","right","left","getRTLMenuPosition","hideSubMenu","menu","visible","unregisterHandlers","preventCloseOnClick","handleMouseEnter","closetimer","clearTimeout","opentimer","setTimeout","hoverDelay","handleMouseLeave","menuRef","c","subMenuRef","registerHandlers","removeEventListener","dismounting","listenId","nextProps","nextState","isVisibilityChange","requestAnimationFrame","styles","rtl","style","removeProperty","classList","add","cleanup","remove","title","menuProps","onMouseEnter","listClassName","menuItemProps","visibleClassName","onMouseOut","subMenuProps","transition","number","ContextMenu","handleOutsideClick","preventHideOnScroll","handleHide","preventHideOnContextMenu","preventHideOnResize","handleShow","_e$detail$position","x","y","onShow","onHide","contains","hideOnLeave","handleContextMenu","menuStyles","height","width","_window2","wrapper","_state","opacity","pointerEvents","inlineStyle","menuClassnames","onContextMenu","ContextMenuTrigger","touchHandled","handleMouseDown","holdToDisplay","persist","stopPropagation","mouseDownTimeoutId","handleContextClick","onMouseDown","handleMouseUp","onMouseUp","handleMouseOut","handleTouchstart","touchstartTimeoutId","onTouchStart","handleTouchEnd","mouseButton","handleMouseClick","disable","disableIfShiftIsPressed","shiftKey","clientX","touches","pageX","clientY","pageY","posX","posY","collect","showMenuConfig","elem","then","resp","elemRef","renderTag","newAttrs","elementType","arr","arr2","from","_toConsumableArray","keys"],"mappings":"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","file":"static/js/63.2dd085da.chunk.js","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","export function callIfExists(func) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof func === 'function' && func.apply(undefined, args);\n}\nexport function hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nexport function uniqueId() {\n  return Math.random().toString(36).substring(7);\n}\nexport var cssClasses = {\n  menu: 'react-contextmenu',\n  menuVisible: 'react-contextmenu--visible',\n  menuWrapper: 'react-contextmenu-wrapper',\n  menuItem: 'react-contextmenu-item',\n  menuItemActive: 'react-contextmenu-item--active',\n  menuItemDisabled: 'react-contextmenu-item--disabled',\n  menuItemDivider: 'react-contextmenu-item--divider',\n  menuItemSelected: 'react-contextmenu-item--selected',\n  subMenu: 'react-contextmenu-submenu'\n};\nexport var store = {};\nexport var canUseDOM = Boolean(typeof window !== 'undefined' && window.document && window.document.createElement);","import assign from 'object-assign';\nimport { store } from './helpers';\nexport var MENU_SHOW = 'REACT_CONTEXTMENU_SHOW';\nexport var MENU_HIDE = 'REACT_CONTEXTMENU_HIDE';\nexport function dispatchGlobalEvent(eventName, opts) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window; // Compatibale with IE\n  // @see http://stackoverflow.com/questions/26596123/internet-explorer-9-10-11-event-constructor-doesnt-work\n\n  var event = void 0;\n\n  if (typeof window.CustomEvent === 'function') {\n    event = new window.CustomEvent(eventName, {\n      detail: opts\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(eventName, false, true, opts);\n  }\n\n  if (target) {\n    target.dispatchEvent(event);\n    assign(store, opts);\n  }\n}\nexport function showMenu() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var target = arguments[1];\n  dispatchGlobalEvent(MENU_SHOW, assign({}, opts, {\n    type: MENU_SHOW\n  }), target);\n}\nexport function hideMenu() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var target = arguments[1];\n  dispatchGlobalEvent(MENU_HIDE, assign({}, opts, {\n    type: MENU_HIDE\n  }), target);\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nimport { MENU_SHOW, MENU_HIDE } from './actions';\nimport { uniqueId, hasOwnProp, canUseDOM } from './helpers';\n\nvar GlobalEventListener = function GlobalEventListener() {\n  var _this = this;\n\n  _classCallCheck(this, GlobalEventListener);\n\n  this.handleShowEvent = function (event) {\n    for (var id in _this.callbacks) {\n      if (hasOwnProp(_this.callbacks, id)) _this.callbacks[id].show(event);\n    }\n  };\n\n  this.handleHideEvent = function (event) {\n    for (var id in _this.callbacks) {\n      if (hasOwnProp(_this.callbacks, id)) _this.callbacks[id].hide(event);\n    }\n  };\n\n  this.register = function (showCallback, hideCallback) {\n    var id = uniqueId();\n    _this.callbacks[id] = {\n      show: showCallback,\n      hide: hideCallback\n    };\n    return id;\n  };\n\n  this.unregister = function (id) {\n    if (id && _this.callbacks[id]) {\n      delete _this.callbacks[id];\n    }\n  };\n\n  this.callbacks = {};\n\n  if (canUseDOM) {\n    window.addEventListener(MENU_SHOW, this.handleShowEvent);\n    window.addEventListener(MENU_HIDE, this.handleHideEvent);\n  }\n};\n\nexport default new GlobalEventListener();","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { hideMenu } from './actions';\nimport { callIfExists, cssClasses, store } from './helpers';\n\nvar MenuItem = function (_Component) {\n  _inherits(MenuItem, _Component);\n\n  function MenuItem() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MenuItem);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MenuItem.__proto__ || Object.getPrototypeOf(MenuItem)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (event.button !== 0 && event.button !== 1) {\n        event.preventDefault();\n      }\n\n      if (_this.props.disabled || _this.props.divider) return;\n      callIfExists(_this.props.onClick, event, assign({}, _this.props.data, store.data), store.target);\n      if (_this.props.preventClose) return;\n      hideMenu();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MenuItem, [{\n    key: 'render',\n    value: function render() {\n      var _cx,\n          _this2 = this;\n\n      var _props = this.props,\n          attributes = _props.attributes,\n          children = _props.children,\n          className = _props.className,\n          disabled = _props.disabled,\n          divider = _props.divider,\n          selected = _props.selected;\n      var menuItemClassNames = cx(className, cssClasses.menuItem, attributes.className, (_cx = {}, _defineProperty(_cx, cx(cssClasses.menuItemDisabled, attributes.disabledClassName), disabled), _defineProperty(_cx, cx(cssClasses.menuItemDivider, attributes.dividerClassName), divider), _defineProperty(_cx, cx(cssClasses.menuItemSelected, attributes.selectedClassName), selected), _cx));\n      return React.createElement('div', _extends({}, attributes, {\n        className: menuItemClassNames,\n        role: 'menuitem',\n        tabIndex: '-1',\n        'aria-disabled': disabled ? 'true' : 'false',\n        'aria-orientation': divider ? 'horizontal' : null,\n        ref: function ref(_ref2) {\n          _this2.ref = _ref2;\n        },\n        onMouseMove: this.props.onMouseMove,\n        onMouseLeave: this.props.onMouseLeave,\n        onTouchEnd: this.handleClick,\n        onClick: this.handleClick\n      }), divider ? null : children);\n    }\n  }]);\n\n  return MenuItem;\n}(Component);\n\nMenuItem.propTypes = {\n  attributes: PropTypes.object,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  data: PropTypes.object,\n  disabled: PropTypes.bool,\n  divider: PropTypes.bool,\n  onClick: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  preventClose: PropTypes.bool,\n  selected: PropTypes.bool\n};\nMenuItem.defaultProps = {\n  attributes: {},\n  children: null,\n  className: '',\n  data: {},\n  disabled: false,\n  divider: false,\n  onClick: function onClick() {\n    return null;\n  },\n  onMouseMove: function onMouseMove() {\n    return null;\n  },\n  onMouseLeave: function onMouseLeave() {\n    return null;\n  },\n  preventClose: false,\n  selected: false\n};\nexport default MenuItem;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from './MenuItem';\n\nvar AbstractMenu = function (_Component) {\n  _inherits(AbstractMenu, _Component);\n\n  function AbstractMenu(props) {\n    _classCallCheck(this, AbstractMenu);\n\n    var _this = _possibleConstructorReturn(this, (AbstractMenu.__proto__ || Object.getPrototypeOf(AbstractMenu)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.seletedItemRef = null;\n    _this.state = {\n      selectedItem: null,\n      forceSubMenuOpen: false\n    };\n    return _this;\n  }\n\n  return AbstractMenu;\n}(Component);\n\nAbstractMenu.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.handleKeyNavigation = function (e) {\n    // check for isVisible strictly here as it might be undefined when this code executes in the context of SubMenu\n    // but we only need to check when it runs in the ContextMenu context\n    if (_this2.state.isVisible === false) {\n      return;\n    }\n\n    switch (e.keyCode) {\n      case 37: // left arrow\n\n      case 27:\n        // escape\n        e.preventDefault();\n\n        _this2.hideMenu(e);\n\n        break;\n\n      case 38:\n        // up arrow\n        e.preventDefault();\n\n        _this2.selectChildren(true);\n\n        break;\n\n      case 40:\n        // down arrow\n        e.preventDefault();\n\n        _this2.selectChildren(false);\n\n        break;\n\n      case 39:\n        // right arrow\n        _this2.tryToOpenSubMenu(e);\n\n        break;\n\n      case 13:\n        // enter\n        e.preventDefault();\n\n        _this2.tryToOpenSubMenu(e);\n\n        {\n          // determine the selected item is disabled or not\n          var disabled = _this2.seletedItemRef && _this2.seletedItemRef.props && _this2.seletedItemRef.props.disabled;\n\n          if (_this2.seletedItemRef && _this2.seletedItemRef.ref instanceof HTMLElement && !disabled) {\n            _this2.seletedItemRef.ref.click();\n          } else {\n            _this2.hideMenu(e);\n          }\n        }\n        break;\n\n      default: // do nothing\n\n    }\n  };\n\n  this.handleForceClose = function () {\n    _this2.setState({\n      forceSubMenuOpen: false\n    });\n  };\n\n  this.tryToOpenSubMenu = function (e) {\n    if (_this2.state.selectedItem && _this2.state.selectedItem.type === _this2.getSubMenuType()) {\n      e.preventDefault();\n\n      _this2.setState({\n        forceSubMenuOpen: true\n      });\n    }\n  };\n\n  this.selectChildren = function (forward) {\n    var selectedItem = _this2.state.selectedItem;\n    var children = [];\n    var disabledChildrenCount = 0;\n    var disabledChildIndexes = {};\n\n    var childCollector = function childCollector(child, index) {\n      // child can be empty in case you do conditional rendering of components, in which\n      // case it should not be accounted for as a real child\n      if (!child) {\n        return;\n      }\n\n      if ([MenuItem, _this2.getSubMenuType()].indexOf(child.type) < 0) {\n        // Maybe the MenuItem or SubMenu is capsuled in a wrapper div or something else\n        React.Children.forEach(child.props.children, childCollector);\n      } else if (!child.props.divider) {\n        if (child.props.disabled) {\n          ++disabledChildrenCount;\n          disabledChildIndexes[index] = true;\n        }\n\n        children.push(child);\n      }\n    };\n\n    React.Children.forEach(_this2.props.children, childCollector);\n\n    if (disabledChildrenCount === children.length) {\n      // All menu items are disabled, so none can be selected, don't do anything\n      return;\n    }\n\n    function findNextEnabledChildIndex(currentIndex) {\n      var i = currentIndex;\n\n      var incrementCounter = function incrementCounter() {\n        if (forward) {\n          --i;\n        } else {\n          ++i;\n        }\n\n        if (i < 0) {\n          i = children.length - 1;\n        } else if (i >= children.length) {\n          i = 0;\n        }\n      };\n\n      do {\n        incrementCounter();\n      } while (i !== currentIndex && disabledChildIndexes[i]);\n\n      return i === currentIndex ? null : i;\n    }\n\n    var currentIndex = children.indexOf(selectedItem);\n    var nextEnabledChildIndex = findNextEnabledChildIndex(currentIndex);\n\n    if (nextEnabledChildIndex !== null) {\n      _this2.setState({\n        selectedItem: children[nextEnabledChildIndex],\n        forceSubMenuOpen: false\n      });\n    }\n  };\n\n  this.onChildMouseMove = function (child) {\n    if (_this2.state.selectedItem !== child) {\n      _this2.setState({\n        selectedItem: child,\n        forceSubMenuOpen: false\n      });\n    }\n  };\n\n  this.onChildMouseLeave = function () {\n    _this2.setState({\n      selectedItem: null,\n      forceSubMenuOpen: false\n    });\n  };\n\n  this.renderChildren = function (children) {\n    return React.Children.map(children, function (child) {\n      var props = {};\n      if (!React.isValidElement(child)) return child;\n\n      if ([MenuItem, _this2.getSubMenuType()].indexOf(child.type) < 0) {\n        // Maybe the MenuItem or SubMenu is capsuled in a wrapper div or something else\n        props.children = _this2.renderChildren(child.props.children);\n        return React.cloneElement(child, props);\n      }\n\n      props.onMouseLeave = _this2.onChildMouseLeave.bind(_this2);\n\n      if (child.type === _this2.getSubMenuType()) {\n        // special props for SubMenu only\n        props.forceOpen = _this2.state.forceSubMenuOpen && _this2.state.selectedItem === child;\n        props.forceClose = _this2.handleForceClose;\n        props.parentKeyNavigationHandler = _this2.handleKeyNavigation;\n      }\n\n      if (!child.props.divider && _this2.state.selectedItem === child) {\n        // special props for selected item only\n        props.selected = true;\n\n        props.ref = function (ref) {\n          _this2.seletedItemRef = ref;\n        };\n\n        return React.cloneElement(child, props);\n      } // onMouseMove is only needed for non selected items\n\n\n      props.onMouseMove = function () {\n        return _this2.onChildMouseMove(child);\n      };\n\n      return React.cloneElement(child, props);\n    });\n  };\n};\n\nexport default AbstractMenu;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { hideMenu } from './actions';\nimport AbstractMenu from './AbstractMenu';\nimport { callIfExists, cssClasses, hasOwnProp, store } from './helpers';\nimport listener from './globalEventListener';\n\nvar SubMenu = function (_AbstractMenu) {\n  _inherits(SubMenu, _AbstractMenu);\n\n  function SubMenu(props) {\n    _classCallCheck(this, SubMenu);\n\n    var _this = _possibleConstructorReturn(this, (SubMenu.__proto__ || Object.getPrototypeOf(SubMenu)).call(this, props));\n\n    _this.getMenuPosition = function () {\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.subMenu.getBoundingClientRect();\n\n      var position = {};\n\n      if (rect.bottom > innerHeight) {\n        position.bottom = 0;\n      } else {\n        position.top = 0;\n      }\n\n      if (rect.right < innerWidth) {\n        position.left = '100%';\n      } else {\n        position.right = '100%';\n      }\n\n      return position;\n    };\n\n    _this.getRTLMenuPosition = function () {\n      var _window2 = window,\n          innerHeight = _window2.innerHeight;\n\n      var rect = _this.subMenu.getBoundingClientRect();\n\n      var position = {};\n\n      if (rect.bottom > innerHeight) {\n        position.bottom = 0;\n      } else {\n        position.top = 0;\n      }\n\n      if (rect.left < 0) {\n        position.left = '100%';\n      } else {\n        position.right = '100%';\n      }\n\n      return position;\n    };\n\n    _this.hideSubMenu = function (e) {\n      // avoid closing submenus of a different menu tree\n      if (e.detail && e.detail.id && _this.menu && e.detail.id !== _this.menu.id) {\n        return;\n      }\n\n      if (_this.props.forceOpen) {\n        _this.props.forceClose();\n      }\n\n      _this.setState({\n        visible: false,\n        selectedItem: null\n      });\n\n      _this.unregisterHandlers();\n    };\n\n    _this.handleClick = function (event) {\n      event.preventDefault();\n      if (_this.props.disabled) return;\n      callIfExists(_this.props.onClick, event, assign({}, _this.props.data, store.data), store.target);\n      if (!_this.props.onClick || _this.props.preventCloseOnClick) return;\n      hideMenu();\n    };\n\n    _this.handleMouseEnter = function () {\n      if (_this.closetimer) clearTimeout(_this.closetimer);\n      if (_this.props.disabled || _this.state.visible) return;\n      _this.opentimer = setTimeout(function () {\n        return _this.setState({\n          visible: true,\n          selectedItem: null\n        });\n      }, _this.props.hoverDelay);\n    };\n\n    _this.handleMouseLeave = function () {\n      if (_this.opentimer) clearTimeout(_this.opentimer);\n      if (!_this.state.visible) return;\n      _this.closetimer = setTimeout(function () {\n        return _this.setState({\n          visible: false,\n          selectedItem: null\n        });\n      }, _this.props.hoverDelay);\n    };\n\n    _this.menuRef = function (c) {\n      _this.menu = c;\n    };\n\n    _this.subMenuRef = function (c) {\n      _this.subMenu = c;\n    };\n\n    _this.registerHandlers = function () {\n      document.removeEventListener('keydown', _this.props.parentKeyNavigationHandler);\n      document.addEventListener('keydown', _this.handleKeyNavigation);\n    };\n\n    _this.unregisterHandlers = function (dismounting) {\n      document.removeEventListener('keydown', _this.handleKeyNavigation);\n\n      if (!dismounting) {\n        document.addEventListener('keydown', _this.props.parentKeyNavigationHandler);\n      }\n    };\n\n    _this.state = assign({}, _this.state, {\n      visible: false\n    });\n    return _this;\n  }\n\n  _createClass(SubMenu, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.listenId = listener.register(function () {}, this.hideSubMenu);\n    }\n  }, {\n    key: 'getSubMenuType',\n    value: function getSubMenuType() {\n      // eslint-disable-line class-methods-use-this\n      return SubMenu;\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      this.isVisibilityChange = (this.state.visible !== nextState.visible || this.props.forceOpen !== nextProps.forceOpen) && !(this.state.visible && nextProps.forceOpen) && !(this.props.forceOpen && nextState.visible);\n      return true;\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (!this.isVisibilityChange) return;\n\n      if (this.props.forceOpen || this.state.visible) {\n        var wrapper = window.requestAnimationFrame || setTimeout;\n        wrapper(function () {\n          var styles = _this2.props.rtl ? _this2.getRTLMenuPosition() : _this2.getMenuPosition();\n\n          _this2.subMenu.style.removeProperty('top');\n\n          _this2.subMenu.style.removeProperty('bottom');\n\n          _this2.subMenu.style.removeProperty('left');\n\n          _this2.subMenu.style.removeProperty('right');\n\n          if (hasOwnProp(styles, 'top')) _this2.subMenu.style.top = styles.top;\n          if (hasOwnProp(styles, 'left')) _this2.subMenu.style.left = styles.left;\n          if (hasOwnProp(styles, 'bottom')) _this2.subMenu.style.bottom = styles.bottom;\n          if (hasOwnProp(styles, 'right')) _this2.subMenu.style.right = styles.right;\n\n          _this2.subMenu.classList.add(cssClasses.menuVisible);\n\n          _this2.registerHandlers();\n\n          _this2.setState({\n            selectedItem: null\n          });\n        });\n      } else {\n        var cleanup = function cleanup() {\n          _this2.subMenu.removeEventListener('transitionend', cleanup);\n\n          _this2.subMenu.style.removeProperty('bottom');\n\n          _this2.subMenu.style.removeProperty('right');\n\n          _this2.subMenu.style.top = 0;\n          _this2.subMenu.style.left = '100%';\n\n          _this2.unregisterHandlers();\n        };\n\n        this.subMenu.addEventListener('transitionend', cleanup);\n        this.subMenu.classList.remove(cssClasses.menuVisible);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.listenId) {\n        listener.unregister(this.listenId);\n      }\n\n      if (this.opentimer) clearTimeout(this.opentimer);\n      if (this.closetimer) clearTimeout(this.closetimer);\n      this.unregisterHandlers(true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _cx;\n\n      var _props = this.props,\n          children = _props.children,\n          attributes = _props.attributes,\n          disabled = _props.disabled,\n          title = _props.title,\n          selected = _props.selected;\n      var visible = this.state.visible;\n      var menuProps = {\n        ref: this.menuRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        className: cx(cssClasses.menuItem, cssClasses.subMenu, attributes.listClassName),\n        style: {\n          position: 'relative'\n        }\n      };\n      var menuItemProps = {\n        className: cx(cssClasses.menuItem, attributes.className, (_cx = {}, _defineProperty(_cx, cx(cssClasses.menuItemDisabled, attributes.disabledClassName), disabled), _defineProperty(_cx, cx(cssClasses.menuItemActive, attributes.visibleClassName), visible), _defineProperty(_cx, cx(cssClasses.menuItemSelected, attributes.selectedClassName), selected), _cx)),\n        onMouseMove: this.props.onMouseMove,\n        onMouseOut: this.props.onMouseOut,\n        onClick: this.handleClick\n      };\n      var subMenuProps = {\n        ref: this.subMenuRef,\n        style: {\n          position: 'absolute',\n          transition: 'opacity 1ms',\n          // trigger transitionend event\n          top: 0,\n          left: '100%'\n        },\n        className: cx(cssClasses.menu, this.props.className)\n      };\n      return React.createElement('nav', _extends({}, menuProps, {\n        role: 'menuitem',\n        tabIndex: '-1',\n        'aria-haspopup': 'true'\n      }), React.createElement('div', _extends({}, attributes, menuItemProps), title), React.createElement('nav', _extends({}, subMenuProps, {\n        role: 'menu',\n        tabIndex: '-1'\n      }), this.renderChildren(children)));\n    }\n  }]);\n\n  return SubMenu;\n}(AbstractMenu);\n\nSubMenu.propTypes = {\n  children: PropTypes.node.isRequired,\n  attributes: PropTypes.object,\n  title: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  hoverDelay: PropTypes.number,\n  rtl: PropTypes.bool,\n  selected: PropTypes.bool,\n  onMouseMove: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  forceOpen: PropTypes.bool,\n  forceClose: PropTypes.func,\n  parentKeyNavigationHandler: PropTypes.func\n};\nSubMenu.defaultProps = {\n  disabled: false,\n  hoverDelay: 500,\n  attributes: {},\n  className: '',\n  rtl: false,\n  selected: false,\n  onMouseMove: function onMouseMove() {\n    return null;\n  },\n  onMouseOut: function onMouseOut() {\n    return null;\n  },\n  forceOpen: false,\n  forceClose: function forceClose() {\n    return null;\n  },\n  parentKeyNavigationHandler: function parentKeyNavigationHandler() {\n    return null;\n  }\n};\nexport default SubMenu;","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport listener from './globalEventListener';\nimport AbstractMenu from './AbstractMenu';\nimport SubMenu from './SubMenu';\nimport { hideMenu } from './actions';\nimport { cssClasses, callIfExists, store } from './helpers';\n\nvar ContextMenu = function (_AbstractMenu) {\n  _inherits(ContextMenu, _AbstractMenu);\n\n  function ContextMenu(props) {\n    _classCallCheck(this, ContextMenu);\n\n    var _this = _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, props));\n\n    _this.registerHandlers = function () {\n      document.addEventListener('mousedown', _this.handleOutsideClick);\n      document.addEventListener('touchstart', _this.handleOutsideClick);\n      if (!_this.props.preventHideOnScroll) document.addEventListener('scroll', _this.handleHide);\n      if (!_this.props.preventHideOnContextMenu) document.addEventListener('contextmenu', _this.handleHide);\n      document.addEventListener('keydown', _this.handleKeyNavigation);\n      if (!_this.props.preventHideOnResize) window.addEventListener('resize', _this.handleHide);\n    };\n\n    _this.unregisterHandlers = function () {\n      document.removeEventListener('mousedown', _this.handleOutsideClick);\n      document.removeEventListener('touchstart', _this.handleOutsideClick);\n      document.removeEventListener('scroll', _this.handleHide);\n      document.removeEventListener('contextmenu', _this.handleHide);\n      document.removeEventListener('keydown', _this.handleKeyNavigation);\n      window.removeEventListener('resize', _this.handleHide);\n    };\n\n    _this.handleShow = function (e) {\n      if (e.detail.id !== _this.props.id || _this.state.isVisible) return;\n      var _e$detail$position = e.detail.position,\n          x = _e$detail$position.x,\n          y = _e$detail$position.y;\n\n      _this.setState({\n        isVisible: true,\n        x: x,\n        y: y\n      });\n\n      _this.registerHandlers();\n\n      callIfExists(_this.props.onShow, e);\n    };\n\n    _this.handleHide = function (e) {\n      if (_this.state.isVisible && (!e.detail || !e.detail.id || e.detail.id === _this.props.id)) {\n        _this.unregisterHandlers();\n\n        _this.setState({\n          isVisible: false,\n          selectedItem: null,\n          forceSubMenuOpen: false\n        });\n\n        callIfExists(_this.props.onHide, e);\n      }\n    };\n\n    _this.handleOutsideClick = function (e) {\n      if (!_this.menu.contains(e.target)) hideMenu();\n    };\n\n    _this.handleMouseLeave = function (event) {\n      event.preventDefault();\n      callIfExists(_this.props.onMouseLeave, event, assign({}, _this.props.data, store.data), store.target);\n      if (_this.props.hideOnLeave) hideMenu();\n    };\n\n    _this.handleContextMenu = function (e) {\n      if (process.env.NODE_ENV === 'production') {\n        e.preventDefault();\n      }\n\n      _this.handleHide(e);\n    };\n\n    _this.hideMenu = function (e) {\n      if (e.keyCode === 27 || e.keyCode === 13) {\n        // ECS or enter\n        hideMenu();\n      }\n    };\n\n    _this.getMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect();\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (x + rect.width > innerWidth) {\n        menuStyles.left -= rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.getRTLMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window2 = window,\n          innerWidth = _window2.innerWidth,\n          innerHeight = _window2.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect(); // Try to position the menu on the left side of the cursor\n\n\n      menuStyles.left = x - rect.width;\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left += rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left + rect.width > innerWidth) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.menuRef = function (c) {\n      _this.menu = c;\n    };\n\n    _this.state = assign({}, _this.state, {\n      x: 0,\n      y: 0,\n      isVisible: false\n    });\n    return _this;\n  }\n\n  _createClass(ContextMenu, [{\n    key: 'getSubMenuType',\n    value: function getSubMenuType() {\n      // eslint-disable-line class-methods-use-this\n      return SubMenu;\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.listenId = listener.register(this.handleShow, this.handleHide);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      var wrapper = window.requestAnimationFrame || setTimeout;\n\n      if (this.state.isVisible) {\n        wrapper(function () {\n          var _state = _this2.state,\n              x = _state.x,\n              y = _state.y;\n\n          var _ref = _this2.props.rtl ? _this2.getRTLMenuPosition(x, y) : _this2.getMenuPosition(x, y),\n              top = _ref.top,\n              left = _ref.left;\n\n          wrapper(function () {\n            if (!_this2.menu) return;\n            _this2.menu.style.top = top + 'px';\n            _this2.menu.style.left = left + 'px';\n            _this2.menu.style.opacity = 1;\n            _this2.menu.style.pointerEvents = 'auto';\n          });\n        });\n      } else {\n        wrapper(function () {\n          if (!_this2.menu) return;\n          _this2.menu.style.opacity = 0;\n          _this2.menu.style.pointerEvents = 'none';\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.listenId) {\n        listener.unregister(this.listenId);\n      }\n\n      this.unregisterHandlers();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          style = _props.style;\n      var isVisible = this.state.isVisible;\n      var inlineStyle = assign({}, style, {\n        position: 'fixed',\n        opacity: 0,\n        pointerEvents: 'none'\n      });\n      var menuClassnames = cx(cssClasses.menu, className, _defineProperty({}, cssClasses.menuVisible, isVisible));\n      return React.createElement('nav', {\n        role: 'menu',\n        tabIndex: '-1',\n        ref: this.menuRef,\n        style: inlineStyle,\n        className: menuClassnames,\n        onContextMenu: this.handleContextMenu,\n        onMouseLeave: this.handleMouseLeave\n      }, this.renderChildren(children));\n    }\n  }]);\n\n  return ContextMenu;\n}(AbstractMenu);\n\nContextMenu.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  data: PropTypes.object,\n  className: PropTypes.string,\n  hideOnLeave: PropTypes.bool,\n  rtl: PropTypes.bool,\n  onHide: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onShow: PropTypes.func,\n  preventHideOnContextMenu: PropTypes.bool,\n  preventHideOnResize: PropTypes.bool,\n  preventHideOnScroll: PropTypes.bool,\n  style: PropTypes.object\n};\nContextMenu.defaultProps = {\n  className: '',\n  data: {},\n  hideOnLeave: false,\n  rtl: false,\n  onHide: function onHide() {\n    return null;\n  },\n  onMouseLeave: function onMouseLeave() {\n    return null;\n  },\n  onShow: function onShow() {\n    return null;\n  },\n  preventHideOnContextMenu: false,\n  preventHideOnResize: false,\n  preventHideOnScroll: false,\n  style: {}\n};\nexport default ContextMenu;","var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport { showMenu, hideMenu } from './actions';\nimport { callIfExists, cssClasses } from './helpers';\n\nvar ContextMenuTrigger = function (_Component) {\n  _inherits(ContextMenuTrigger, _Component);\n\n  function ContextMenuTrigger() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ContextMenuTrigger);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ContextMenuTrigger.__proto__ || Object.getPrototypeOf(ContextMenuTrigger)).call.apply(_ref, [this].concat(args))), _this), _this.touchHandled = false, _this.handleMouseDown = function (event) {\n      if (_this.props.holdToDisplay >= 0 && event.button === 0) {\n        event.persist();\n        event.stopPropagation();\n        _this.mouseDownTimeoutId = setTimeout(function () {\n          return _this.handleContextClick(event);\n        }, _this.props.holdToDisplay);\n      }\n\n      callIfExists(_this.props.attributes.onMouseDown, event);\n    }, _this.handleMouseUp = function (event) {\n      if (event.button === 0) {\n        clearTimeout(_this.mouseDownTimeoutId);\n      }\n\n      callIfExists(_this.props.attributes.onMouseUp, event);\n    }, _this.handleMouseOut = function (event) {\n      if (event.button === 0) {\n        clearTimeout(_this.mouseDownTimeoutId);\n      }\n\n      callIfExists(_this.props.attributes.onMouseOut, event);\n    }, _this.handleTouchstart = function (event) {\n      _this.touchHandled = false;\n\n      if (_this.props.holdToDisplay >= 0) {\n        event.persist();\n        event.stopPropagation();\n        _this.touchstartTimeoutId = setTimeout(function () {\n          _this.handleContextClick(event);\n\n          _this.touchHandled = true;\n        }, _this.props.holdToDisplay);\n      }\n\n      callIfExists(_this.props.attributes.onTouchStart, event);\n    }, _this.handleTouchEnd = function (event) {\n      if (_this.touchHandled) {\n        event.preventDefault();\n      }\n\n      clearTimeout(_this.touchstartTimeoutId);\n      callIfExists(_this.props.attributes.onTouchEnd, event);\n    }, _this.handleContextMenu = function (event) {\n      if (event.button === _this.props.mouseButton) {\n        _this.handleContextClick(event);\n      }\n\n      callIfExists(_this.props.attributes.onContextMenu, event);\n    }, _this.handleMouseClick = function (event) {\n      if (event.button === _this.props.mouseButton) {\n        _this.handleContextClick(event);\n      }\n\n      callIfExists(_this.props.attributes.onClick, event);\n    }, _this.handleContextClick = function (event) {\n      if (_this.props.disable) return;\n      if (_this.props.disableIfShiftIsPressed && event.shiftKey) return;\n      event.preventDefault();\n      event.stopPropagation();\n      var x = event.clientX || event.touches && event.touches[0].pageX;\n      var y = event.clientY || event.touches && event.touches[0].pageY;\n\n      if (_this.props.posX) {\n        x -= _this.props.posX;\n      }\n\n      if (_this.props.posY) {\n        y -= _this.props.posY;\n      }\n\n      hideMenu();\n      var data = callIfExists(_this.props.collect, _this.props);\n      var showMenuConfig = {\n        position: {\n          x: x,\n          y: y\n        },\n        target: _this.elem,\n        id: _this.props.id\n      };\n\n      if (data && typeof data.then === 'function') {\n        // it's promise\n        data.then(function (resp) {\n          showMenuConfig.data = assign({}, resp, {\n            target: event.target\n          });\n          showMenu(showMenuConfig);\n        });\n      } else {\n        showMenuConfig.data = assign({}, data, {\n          target: event.target\n        });\n        showMenu(showMenuConfig);\n      }\n    }, _this.elemRef = function (c) {\n      _this.elem = c;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ContextMenuTrigger, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          renderTag = _props.renderTag,\n          attributes = _props.attributes,\n          children = _props.children;\n      var newAttrs = assign({}, attributes, {\n        className: cx(cssClasses.menuWrapper, attributes.className),\n        onContextMenu: this.handleContextMenu,\n        onClick: this.handleMouseClick,\n        onMouseDown: this.handleMouseDown,\n        onMouseUp: this.handleMouseUp,\n        onTouchStart: this.handleTouchstart,\n        onTouchEnd: this.handleTouchEnd,\n        onMouseOut: this.handleMouseOut,\n        ref: this.elemRef\n      });\n      return React.createElement(renderTag, newAttrs, children);\n    }\n  }]);\n\n  return ContextMenuTrigger;\n}(Component);\n\nContextMenuTrigger.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  attributes: PropTypes.object,\n  collect: PropTypes.func,\n  disable: PropTypes.bool,\n  holdToDisplay: PropTypes.number,\n  posX: PropTypes.number,\n  posY: PropTypes.number,\n  renderTag: PropTypes.elementType,\n  mouseButton: PropTypes.number,\n  disableIfShiftIsPressed: PropTypes.bool\n};\nContextMenuTrigger.defaultProps = {\n  attributes: {},\n  collect: function collect() {\n    return null;\n  },\n  disable: false,\n  holdToDisplay: 1000,\n  renderTag: 'div',\n  posX: 0,\n  posY: 0,\n  mouseButton: 2,\n  // 0 is left click, 2 is right click\n  disableIfShiftIsPressed: false\n};\nexport default ContextMenuTrigger;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nimport React, { Component } from 'react';\nimport ContextMenuTrigger from './ContextMenuTrigger';\nimport listener from './globalEventListener'; // collect ContextMenuTrigger's expected props to NOT pass them on as part of the context\n\nvar ignoredTriggerProps = [].concat(_toConsumableArray(Object.keys(ContextMenuTrigger.propTypes)), ['children']); // expect the id of the menu to be responsible for as outer parameter\n\nexport default function (menuId) {\n  // expect menu component to connect as inner parameter\n  // <Child/> is presumably a wrapper of <ContextMenu/>\n  return function connect(Child) {\n    // return wrapper for <Child/> that forwards the ContextMenuTrigger's additional props\n    return function (_Component) {\n      _inherits(ConnectMenu, _Component);\n\n      function ConnectMenu(props) {\n        _classCallCheck(this, ConnectMenu);\n\n        var _this = _possibleConstructorReturn(this, (ConnectMenu.__proto__ || Object.getPrototypeOf(ConnectMenu)).call(this, props));\n\n        _this.handleShow = function (e) {\n          if (e.detail.id !== menuId) return; // the onShow event's detail.data object holds all ContextMenuTrigger props\n\n          var data = e.detail.data;\n          var filteredData = {};\n\n          for (var key in data) {\n            // exclude props the ContextMenuTrigger is expecting itself\n            if (!ignoredTriggerProps.includes(key)) {\n              filteredData[key] = data[key];\n            }\n          }\n\n          _this.setState({\n            trigger: filteredData\n          });\n        };\n\n        _this.handleHide = function () {\n          _this.setState({\n            trigger: null\n          });\n        };\n\n        _this.state = {\n          trigger: null\n        };\n        return _this;\n      }\n\n      _createClass(ConnectMenu, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.listenId = listener.register(this.handleShow, this.handleHide);\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          if (this.listenId) {\n            listener.unregister(this.listenId);\n          }\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return React.createElement(Child, _extends({}, this.props, {\n            id: menuId,\n            trigger: this.state.trigger\n          }));\n        }\n      }]);\n\n      return ConnectMenu;\n    }(Component);\n  };\n}","export { default as ContextMenu } from './ContextMenu';\nexport { default as ContextMenuTrigger } from './ContextMenuTrigger';\nexport { default as MenuItem } from './MenuItem';\nexport { default as SubMenu } from './SubMenu';\nexport { default as connectMenu } from './connectMenu';\nexport { hideMenu, showMenu } from './actions';"],"sourceRoot":""}